<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Propeller-GCC Libraries: include/cogload.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Propeller-GCC Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cogload.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides Propeller specific functions to load COGs from <a class="el" href="structEEPROM.html">EEPROM</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="stdint_8h_source.html">stdint.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="i2c_8h_source.html">i2c.h</a>&gt;</code><br />
</div>
<p><a href="cogload_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a27a7c7ab6db3066eb6888e8fd179767d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cogload_8h.html#a27a7c7ab6db3066eb6888e8fd179767d">COG_IMAGE_EEPROM_OFFSET</a>(a)&#160;&#160;&#160;((uint32_t)(a) - 0xc0000000 + 0x8000)</td></tr>
<tr class="separator:a27a7c7ab6db3066eb6888e8fd179767d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a34b35fef365b47805bea8993a2c596e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cogload_8h.html#a34b35fef365b47805bea8993a2c596e2">cognewFromBootEeprom</a> (void *code, <a class="el" href="size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> codeSize, void *param)</td></tr>
<tr class="memdesc:a34b35fef365b47805bea8993a2c596e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a new Propeller COG from a COG image in <a class="el" href="structEEPROM.html">EEPROM</a>.  <a href="#a34b35fef365b47805bea8993a2c596e2">More...</a><br /></td></tr>
<tr class="separator:a34b35fef365b47805bea8993a2c596e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662b6feed6887b045e790236fb0d9e5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cogload_8h.html#a662b6feed6887b045e790236fb0d9e5c">coginitFromBootEeprom</a> (int id, void *code, <a class="el" href="size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> codeSize, void *param)</td></tr>
<tr class="memdesc:a662b6feed6887b045e790236fb0d9e5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a specified Propeller COG from a COG image in <a class="el" href="structEEPROM.html">EEPROM</a>.  <a href="#a662b6feed6887b045e790236fb0d9e5c">More...</a><br /></td></tr>
<tr class="separator:a662b6feed6887b045e790236fb0d9e5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a999b621722fe944459567f2b64003d21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cogload_8h.html#a999b621722fe944459567f2b64003d21">readFromBootEeprom</a> (uint32_t offset, void *buf, <a class="el" href="size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> size)</td></tr>
<tr class="memdesc:a999b621722fe944459567f2b64003d21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from the boot <a class="el" href="structEEPROM.html">EEPROM</a>.  <a href="#a999b621722fe944459567f2b64003d21">More...</a><br /></td></tr>
<tr class="separator:a999b621722fe944459567f2b64003d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf067cc6a66d233302739af57d8746bd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cogload_8h.html#adf067cc6a66d233302739af57d8746bd">writeToBootEeprom</a> (uint32_t offset, void *buf, <a class="el" href="size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> size)</td></tr>
<tr class="memdesc:adf067cc6a66d233302739af57d8746bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to the boot <a class="el" href="structEEPROM.html">EEPROM</a>.  <a href="#adf067cc6a66d233302739af57d8746bd">More...</a><br /></td></tr>
<tr class="separator:adf067cc6a66d233302739af57d8746bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides Propeller specific functions to load COGs from <a class="el" href="structEEPROM.html">EEPROM</a>. </p>
<p>Copyright (c) 2011-2012 by Parallax, Inc. MIT Licensed </p>

<p class="definition">Definition in file <a class="el" href="cogload_8h_source.html">cogload.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a27a7c7ab6db3066eb6888e8fd179767d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a7c7ab6db3066eb6888e8fd179767d">&#9670;&nbsp;</a></span>COG_IMAGE_EEPROM_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COG_IMAGE_EEPROM_OFFSET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;((uint32_t)(a) - 0xc0000000 + 0x8000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cogload_8h_source.html#l00015">15</a> of file <a class="el" href="cogload_8h_source.html">cogload.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a662b6feed6887b045e790236fb0d9e5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a662b6feed6887b045e790236fb0d9e5c">&#9670;&nbsp;</a></span>coginitFromBootEeprom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coginitFromBootEeprom </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>codeSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a specified Propeller COG from a COG image in <a class="el" href="structEEPROM.html">EEPROM</a>. </p>
<p>This is used to start a COG with code compiled as PASM, AS, or COG-C when the COG image is in <a class="el" href="structEEPROM.html">EEPROM</a>. PASM can be any Spin/PASM code that is self-contained. That is, all data for initialization and mailbox use are passed via the par parameter. Changing PASM variables from SPIN code will not work with this method.</p>
<p>GAS and COG-C programs have similar restrictions. COG-C programs should not use any stack or variables in HUB memory that are not accessed via PAR mailbox or pointers.</p>
<p>This function requires the boot i2c COG driver so it must either already be loaded or the memory space used by it cannot have been overwritten by calling the i2cBootBuffer function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>COG id of to load </td></tr>
    <tr><td class="paramname">code</td><td>Address of PASM to load </td></tr>
    <tr><td class="paramname">size</td><td>of code in bytes </td></tr>
    <tr><td class="paramname">param</td><td>Value of par parameter usually an address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>COG ID provided by the builtin function or -1 on failure. </dd></dl>

</div>
</div>
<a id="a34b35fef365b47805bea8993a2c596e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34b35fef365b47805bea8993a2c596e2">&#9670;&nbsp;</a></span>cognewFromBootEeprom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cognewFromBootEeprom </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>codeSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a new Propeller COG from a COG image in <a class="el" href="structEEPROM.html">EEPROM</a>. </p>
<p>This is used to start a COG with code compiled as PASM, AS, or COG-C when the COG image is in <a class="el" href="structEEPROM.html">EEPROM</a>. PASM can be any Spin/PASM code that is self-contained. That is, all data for initialization and mailbox use are passed via the par parameter. Changing PASM variables from SPIN code will not work with this method.</p>
<p>GAS and COG-C programs have similar restrictions. COG-C programs should not use any stack or variables in HUB memory that are not accessed via PAR mailbox or pointers.</p>
<p>This function requires the boot i2c COG driver so it must either already be loaded or the memory space used by it cannot have been overwritten by calling the i2cBootBuffer function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>Address of PASM to load </td></tr>
    <tr><td class="paramname">size</td><td>of code in bytes </td></tr>
    <tr><td class="paramname">param</td><td>Value of par parameter usually an address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>COG ID provided by the builtin function or -1 on failure. </dd></dl>

</div>
</div>
<a id="a999b621722fe944459567f2b64003d21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a999b621722fe944459567f2b64003d21">&#9670;&nbsp;</a></span>readFromBootEeprom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int readFromBootEeprom </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read from the boot <a class="el" href="structEEPROM.html">EEPROM</a>. </p>
<p>Use this function to read from the boot <a class="el" href="structEEPROM.html">EEPROM</a>.</p>
<p>This function requires the boot i2c COG driver so it must either already be loaded or the memory space used by it cannot have been overwritten by calling the i2cBootBuffer function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset from the start of the boot <a class="el" href="structEEPROM.html">EEPROM</a> to start reading </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer address to receive the boot <a class="el" href="structEEPROM.html">EEPROM</a> data </td></tr>
    <tr><td class="paramname">size</td><td>Number of bytes to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure. </dd></dl>

</div>
</div>
<a id="adf067cc6a66d233302739af57d8746bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf067cc6a66d233302739af57d8746bd">&#9670;&nbsp;</a></span>writeToBootEeprom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int writeToBootEeprom </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="size__t_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write to the boot <a class="el" href="structEEPROM.html">EEPROM</a>. </p>
<p>Use this function to write to the boot <a class="el" href="structEEPROM.html">EEPROM</a>.</p>
<p>This function requires the boot i2c COG driver so it must either already be loaded or the memory space used by it cannot have been overwritten by calling the i2cBootBuffer function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset from the start of the boot <a class="el" href="structEEPROM.html">EEPROM</a> to start writing </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer address containing the data to write </td></tr>
    <tr><td class="paramname">size</td><td>Number of bytes to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -1 on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 16 2019 13:35:03 for Propeller-GCC Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
