<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Propeller-GCC Libraries: include/dirent.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Propeller-GCC Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dirent.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides directory operations API declarations.  
<a href="#details">More...</a></p>

<p><a href="dirent_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDIRstruct.html">DIRstruct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the <a class="el" href="dirent_8h.html" title="Provides directory operations API declarations.">dirent.h</a> DIR struct.  <a href="structDIRstruct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdirent.html">dirent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the <a class="el" href="dirent_8h.html" title="Provides directory operations API declarations.">dirent.h</a> dirent struct.  <a href="structdirent.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aef018487342a3344aa32ee15ddcb4410"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dirent_8h.html#aef018487342a3344aa32ee15ddcb4410">ATTR_READ_ONLY</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:aef018487342a3344aa32ee15ddcb4410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42249a182dc832d4647b67281c2ffc90"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dirent_8h.html#a42249a182dc832d4647b67281c2ffc90">ATTR_HIDDEN</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:a42249a182dc832d4647b67281c2ffc90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1250075cd2ca065a67a44fc9fc3222"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dirent_8h.html#a1c1250075cd2ca065a67a44fc9fc3222">ATTR_SYSTEM</a>&#160;&#160;&#160;0x04</td></tr>
<tr class="separator:a1c1250075cd2ca065a67a44fc9fc3222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14d118689e61ffb3e29f83d38f1f135"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dirent_8h.html#ab14d118689e61ffb3e29f83d38f1f135">ATTR_VOLUME_ID</a>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:ab14d118689e61ffb3e29f83d38f1f135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa13d3c1c60925f7b1e639233a799860"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dirent_8h.html#afa13d3c1c60925f7b1e639233a799860">ATTR_DIRECTORY</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:afa13d3c1c60925f7b1e639233a799860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b257aa7e0fdd8b11372edf885302176"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dirent_8h.html#a1b257aa7e0fdd8b11372edf885302176">ATTR_ARCHIVE</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="separator:a1b257aa7e0fdd8b11372edf885302176"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6a185ebae195e04c9d31c2bdfa30d4f2"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structDIRstruct.html">DIRstruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dirent_8h.html#a6a185ebae195e04c9d31c2bdfa30d4f2">DIR</a></td></tr>
<tr class="memdesc:a6a185ebae195e04c9d31c2bdfa30d4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the <a class="el" href="dirent_8h.html" title="Provides directory operations API declarations.">dirent.h</a> DIR struct.  <a href="#a6a185ebae195e04c9d31c2bdfa30d4f2">More...</a><br /></td></tr>
<tr class="separator:a6a185ebae195e04c9d31c2bdfa30d4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afa648ff43ec9eba592716a334f243111"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dirent_8h.html#a6a185ebae195e04c9d31c2bdfa30d4f2">DIR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dirent_8h.html#afa648ff43ec9eba592716a334f243111">opendir</a> (const char *path)</td></tr>
<tr class="separator:afa648ff43ec9eba592716a334f243111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58257faf8b13b3f14558613c632b2373"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdirent.html">dirent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dirent_8h.html#a58257faf8b13b3f14558613c632b2373">readdir</a> (<a class="el" href="dirent_8h.html#a6a185ebae195e04c9d31c2bdfa30d4f2">DIR</a> *dirp)</td></tr>
<tr class="separator:a58257faf8b13b3f14558613c632b2373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeac2b41e8c2c3a5f91c9bd511a8c0a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dirent_8h.html#aaeac2b41e8c2c3a5f91c9bd511a8c0a6">closedir</a> (<a class="el" href="dirent_8h.html#a6a185ebae195e04c9d31c2bdfa30d4f2">DIR</a> *dirp)</td></tr>
<tr class="separator:aaeac2b41e8c2c3a5f91c9bd511a8c0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides directory operations API declarations. </p>

<p class="definition">Definition in file <a class="el" href="dirent_8h_source.html">dirent.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1b257aa7e0fdd8b11372edf885302176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b257aa7e0fdd8b11372edf885302176">&#9670;&nbsp;</a></span>ATTR_ARCHIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ATTR_ARCHIVE&#160;&#160;&#160;0x20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dirent_8h_source.html#l00017">17</a> of file <a class="el" href="dirent_8h_source.html">dirent.h</a>.</p>

</div>
</div>
<a id="afa13d3c1c60925f7b1e639233a799860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa13d3c1c60925f7b1e639233a799860">&#9670;&nbsp;</a></span>ATTR_DIRECTORY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ATTR_DIRECTORY&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dirent_8h_source.html#l00016">16</a> of file <a class="el" href="dirent_8h_source.html">dirent.h</a>.</p>

</div>
</div>
<a id="a42249a182dc832d4647b67281c2ffc90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42249a182dc832d4647b67281c2ffc90">&#9670;&nbsp;</a></span>ATTR_HIDDEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ATTR_HIDDEN&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dirent_8h_source.html#l00013">13</a> of file <a class="el" href="dirent_8h_source.html">dirent.h</a>.</p>

</div>
</div>
<a id="aef018487342a3344aa32ee15ddcb4410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef018487342a3344aa32ee15ddcb4410">&#9670;&nbsp;</a></span>ATTR_READ_ONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ATTR_READ_ONLY&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dirent_8h_source.html#l00012">12</a> of file <a class="el" href="dirent_8h_source.html">dirent.h</a>.</p>

</div>
</div>
<a id="a1c1250075cd2ca065a67a44fc9fc3222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c1250075cd2ca065a67a44fc9fc3222">&#9670;&nbsp;</a></span>ATTR_SYSTEM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ATTR_SYSTEM&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dirent_8h_source.html#l00014">14</a> of file <a class="el" href="dirent_8h_source.html">dirent.h</a>.</p>

</div>
</div>
<a id="ab14d118689e61ffb3e29f83d38f1f135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14d118689e61ffb3e29f83d38f1f135">&#9670;&nbsp;</a></span>ATTR_VOLUME_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ATTR_VOLUME_ID&#160;&#160;&#160;0x08</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dirent_8h_source.html#l00015">15</a> of file <a class="el" href="dirent_8h_source.html">dirent.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a6a185ebae195e04c9d31c2bdfa30d4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a185ebae195e04c9d31c2bdfa30d4f2">&#9670;&nbsp;</a></span>DIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structDIRstruct.html">DIRstruct</a>  <a class="el" href="dirent_8h.html#a6a185ebae195e04c9d31c2bdfa30d4f2">DIR</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the <a class="el" href="dirent_8h.html" title="Provides directory operations API declarations.">dirent.h</a> DIR struct. </p>
<p>DIR fields: </p><ul>
<li>uint32_t currentcluster; // current cluster in dir </li>
<li>uint8_t currentsector; // current sector in cluster </li>
<li>uint8_t currententry; // current dir entry in sector </li>
<li>uint8_t *scratch; // ptr to user-supplied sector buffer </li>
<li>uint8_t flags; // internal DOSFS flags </li>
</ul>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aaeac2b41e8c2c3a5f91c9bd511a8c0a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeac2b41e8c2c3a5f91c9bd511a8c0a6">&#9670;&nbsp;</a></span>closedir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int closedir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dirent_8h.html#a6a185ebae195e04c9d31c2bdfa30d4f2">DIR</a> *&#160;</td>
          <td class="paramname"><em>dirp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes a directory.</p>
<p>The <a class="el" href="dirent_8h.html#aaeac2b41e8c2c3a5f91c9bd511a8c0a6">closedir()</a> function closes the named directory stream and frees the structure associated with the dirp pointer, returning 0 on success. On failure, -1 is returned and the global variable errno is set to indicate the error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dirp</td><td>Pointer to directory to close. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success or -1 on failure and sets errno. </dd></dl>

</div>
</div>
<a id="afa648ff43ec9eba592716a334f243111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa648ff43ec9eba592716a334f243111">&#9670;&nbsp;</a></span>opendir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dirent_8h.html#a6a185ebae195e04c9d31c2bdfa30d4f2">DIR</a>* opendir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens a directory.</p>
<p>The <a class="el" href="dirent_8h.html#afa648ff43ec9eba592716a334f243111">opendir()</a> function opens the directory named by dirname, associates a directory stream with it, and returns a pointer to be used to identify the directory stream in subsequent operations. The pointer NULL is returned if dirname cannot be accessed or if it cannot malloc(3) enough memory to hold the whole thing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The directory to be opened. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DIR struct pointer to be used in subsequent operations. Returns NULL on error. </dd></dl>

</div>
</div>
<a id="a58257faf8b13b3f14558613c632b2373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58257faf8b13b3f14558613c632b2373">&#9670;&nbsp;</a></span>readdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdirent.html">dirent</a>* readdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dirent_8h.html#a6a185ebae195e04c9d31c2bdfa30d4f2">DIR</a> *&#160;</td>
          <td class="paramname"><em>dirp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns pointer to the next directory entry.</p>
<p>The <a class="el" href="dirent_8h.html#a58257faf8b13b3f14558613c632b2373">readdir()</a> function returns a pointer to the next directory entry. It returns NULL upon reaching the end of the directory or detecting an invalid seekdir() operation.</p>
<p>Sample code searches a directory for entry "name":</p>
<div class="fragment"><div class="line">len = <a class="code" href="string_8h.html#aa383452fe445bfae989358c9d7d96f4f">strlen</a>(name);</div><div class="line">dirp = <a class="code" href="dirent_8h.html#afa648ff43ec9eba592716a334f243111">opendir</a>(<span class="stringliteral">&quot;.&quot;</span>);</div><div class="line"><span class="keywordflow">while</span> ((dp = <a class="code" href="dirent_8h.html#a58257faf8b13b3f14558613c632b2373">readdir</a>(dirp)) != <a class="code" href="null_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line">  <span class="keywordflow">if</span> (!<a class="code" href="string_8h.html#a11bd144d7d44914099a3aeddf1c8567d">strcmp</a>(dp-&gt;d_name, name)) {</div><div class="line">    <a class="code" href="dirent_8h.html#aaeac2b41e8c2c3a5f91c9bd511a8c0a6">closedir</a>(dirp);</div><div class="line">    <span class="keywordflow">return</span> FOUND;</div><div class="line">  }</div><div class="line">}</div><div class="line">(void)<a class="code" href="dirent_8h.html#aaeac2b41e8c2c3a5f91c9bd511a8c0a6">closedir</a>(dirp);</div><div class="line"><span class="keywordflow">return</span> NOT_FOUND;</div></div><!-- fragment --><dl class="section pre"><dt>Precondition</dt><dd>Parameter dirp must be successfully opened by opendir.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dirp</td><td>Pointer to the DIR struct. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the next directory entry, or NULL if end of directory. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 16 2019 13:35:03 for Propeller-GCC Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
